<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Wasmer’s WASI implementation"><meta name="keywords" content="rust, rustlang, rust-lang, wasmer_wasi"><title>wasmer_wasi - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="https:&#x2F;&#x2F;wasmer.io&#x2F;images&#x2F;icons&#x2F;favicon-32x32.png"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../wasmer_wasi/index.html"><div class="logo-container"><img src="https:&#x2F;&#x2F;github.com&#x2F;wasmerio.png?size=200" alt="logo"></div>
        </a><h2 class="location">Crate wasmer_wasi</h2><div class="block version"><div class="narrow-helper"></div><p>Version 2.2.1</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all wasmer_wasi's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="wasmer_wasi" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../wasmer_wasi/index.html"><img src="https:&#x2F;&#x2F;github.com&#x2F;wasmerio.png?size=200" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">wasmer_wasi</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/wasmer_wasi/lib.rs.html#1-271" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Wasmer’s WASI implementation</p>
<p>Use <code>generate_import_object</code> to create an <a href="../wasmer/sys/import_object/struct.ImportObject.html" title="ImportObject"><code>ImportObject</code></a>.  This <a href="../wasmer/sys/import_object/struct.ImportObject.html" title="ImportObject"><code>ImportObject</code></a>
can be combined with a module to create an <code>Instance</code> which can execute WASI
Wasm functions.</p>
<p>See <code>state</code> for the experimental WASI FS API.  Also see the
<a href="https://github.com/wasmerio/wasmer/blob/master/examples/plugin.rs">WASI plugin example</a>
for an example of how to extend WASI using the WASI FS API.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="macros/index.html" title="wasmer_wasi::macros mod">macros</a></div><div class="item-right docblock-short"><p>Macros to simplify some common WASI-specific tasks.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="ptr/index.html" title="wasmer_wasi::ptr mod">ptr</a></div><div class="item-right docblock-short"><p>This is a wrapper around the <code>WasmPtr</code> abstraction that returns __WASI_EFAULT
if memory access failed</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="state/index.html" title="wasmer_wasi::state mod">state</a></div><div class="item-right docblock-short"><p>WARNING: the API exposed here is unstable and very experimental.  Certain things are not ready
yet and may be broken in patch releases.  If you’re using this and have any specific needs,
please <a href="https://github.com/wasmerio/wasmer/issues/583">let us know here</a> or by filing an issue.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="syscalls/index.html" title="wasmer_wasi::syscalls mod">syscalls</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="types/index.html" title="wasmer_wasi::types mod">types</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="utils/index.html" title="wasmer_wasi::utils mod">utils</a></div><div class="item-right docblock-short"></div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Fd.html" title="wasmer_wasi::Fd struct">Fd</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Pipe.html" title="wasmer_wasi::Pipe struct">Pipe</a></div><div class="item-right docblock-short"><p>For piping stdio. Stores all output / input in a byte-vector.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Stderr.html" title="wasmer_wasi::Stderr struct">Stderr</a></div><div class="item-right docblock-short"><p>A wrapper type around Stderr that implements <code>VirtualFile</code> and
<code>Serialize</code> + <code>Deserialize</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Stdin.html" title="wasmer_wasi::Stdin struct">Stdin</a></div><div class="item-right docblock-short"><p>A wrapper type around Stdin that implements <code>VirtualFile</code> and
<code>Serialize</code> + <code>Deserialize</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Stdout.html" title="wasmer_wasi::Stdout struct">Stdout</a></div><div class="item-right docblock-short"><p>A wrapper type around Stdout that implements <code>VirtualFile</code> and
<code>Serialize</code> + <code>Deserialize</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WasiEnv.html" title="wasmer_wasi::WasiEnv struct">WasiEnv</a></div><div class="item-right docblock-short"><p>The environment provided to the WASI imports.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WasiFs.html" title="wasmer_wasi::WasiFs struct">WasiFs</a></div><div class="item-right docblock-short"><p>Warning, modifying these fields directly may cause invariants to break and
should be considered unsafe.  These fields may be made private in a future release</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WasiState.html" title="wasmer_wasi::WasiState struct">WasiState</a></div><div class="item-right docblock-short"><p>Top level data type containing all* the state with which WASI can
interact.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WasiStateBuilder.html" title="wasmer_wasi::WasiStateBuilder struct">WasiStateBuilder</a></div><div class="item-right docblock-short"><p>Convenient builder API for configuring WASI via <a href="state/struct.WasiState.html" title="WasiState"><code>WasiState</code></a>.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.FsError.html" title="wasmer_wasi::FsError enum">FsError</a></div><div class="item-right docblock-short"><p>Error type for external users</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.WasiError.html" title="wasmer_wasi::WasiError enum">WasiError</a></div><div class="item-right docblock-short"><p>This is returned in <code>RuntimeError</code>.
Use <code>downcast</code> or <code>downcast_ref</code> to retrieve the <code>ExitCode</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.WasiFsError.html" title="wasmer_wasi::WasiFsError enum">WasiFsError</a></div><div class="item-right docblock-short"><p>Error type for external users</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.WasiStateCreationError.html" title="wasmer_wasi::WasiStateCreationError enum">WasiStateCreationError</a></div><div class="item-right docblock-short"><p>Error type returned when bad data is given to <a href="state/builder/struct.WasiStateBuilder.html" title="WasiStateBuilder"><code>WasiStateBuilder</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.WasiVersion.html" title="wasmer_wasi::WasiVersion enum">WasiVersion</a></div><div class="item-right docblock-short"><p>The version of WASI. This is determined by the imports namespace
string.</p>
</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.ALL_RIGHTS.html" title="wasmer_wasi::ALL_RIGHTS constant">ALL_RIGHTS</a></div><div class="item-right docblock-short"><p>all the rights enabled</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.VIRTUAL_ROOT_FD.html" title="wasmer_wasi::VIRTUAL_ROOT_FD constant">VIRTUAL_ROOT_FD</a></div><div class="item-right docblock-short"><p>the fd value of the virtual root</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.VirtualFile.html" title="wasmer_wasi::VirtualFile trait">VirtualFile</a></div><div class="item-right docblock-short"><p>This trait relies on your file closing when it goes out of scope via <code>Drop</code></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.WasiFile.html" title="wasmer_wasi::WasiFile trait">WasiFile</a></div><div class="item-right docblock-short"><p>This trait relies on your file closing when it goes out of scope via <code>Drop</code></p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.generate_import_object_from_env.html" title="wasmer_wasi::generate_import_object_from_env fn">generate_import_object_from_env</a></div><div class="item-right docblock-short"><p>Create an <a href="../wasmer/sys/import_object/struct.ImportObject.html" title="ImportObject"><code>ImportObject</code></a> with an existing <a href="struct.WasiEnv.html" title="WasiEnv"><code>WasiEnv</code></a>. <code>WasiEnv</code>
needs a <a href="state/struct.WasiState.html" title="WasiState"><code>WasiState</code></a>, that can be constructed from a
<a href="state/builder/struct.WasiStateBuilder.html"><code>WasiStateBuilder</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.generate_import_object_snapshot0.html" title="wasmer_wasi::generate_import_object_snapshot0 fn">generate_import_object_snapshot0</a></div><div class="item-right docblock-short"><p>Combines a state generating function with the import list for legacy WASI</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.generate_import_object_snapshot1.html" title="wasmer_wasi::generate_import_object_snapshot1 fn">generate_import_object_snapshot1</a></div><div class="item-right docblock-short"><p>Combines a state generating function with the import list for snapshot 1</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_wasi_version.html" title="wasmer_wasi::get_wasi_version fn">get_wasi_version</a></div><div class="item-right docblock-short"><p>Detect the version of WASI being used based on the import
namespaces.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_wasi_versions.html" title="wasmer_wasi::get_wasi_versions fn">get_wasi_versions</a></div><div class="item-right docblock-short"><p>Like <a href="utils/fn.get_wasi_version.html" title="get_wasi_version"><code>get_wasi_version</code></a> but detects multiple WASI versions in a single module.
Thus <code>strict</code> behaves differently in this function as multiple versions are
always supported. <code>strict</code> indicates whether non-WASI imports should trigger a
failure or be ignored.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.is_wasi_module.html" title="wasmer_wasi::is_wasi_module fn">is_wasi_module</a></div><div class="item-right docblock-short"><p>Check if a provided module is compiled for some version of WASI.
Use <a href="utils/fn.get_wasi_version.html" title="get_wasi_version"><code>get_wasi_version</code></a> to find out which version of WASI the module is.</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="wasmer_wasi" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.59.0 (9d1b2106e 2022-02-23)" ></div>
</body></html>